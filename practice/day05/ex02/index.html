<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LG TWINS 야구 타로</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Dokdo&display=swap"
      rel="stylesheet"
    />

    <!-- 파비콘 -->
    <link
      rel="icon"
      type="image/png"
      href="./favicon-96x96.png"
      sizes="96x96"
    />
    <link rel="icon" type="image/svg+xml" href="./favicon.svg" />
    <link rel="shortcut icon" href="./favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./apple-touch-icon.png"
    />
    <link rel="manifest" href="./site.webmanifest" />

    <!-- OG 태그 -->
    <meta property="og:title" content="야구... 좋아하세요?" />
    <meta
      property="og:description"
      content="이번 시즌에는 과연 순위가 어떻게 될까?"
    />
    <meta
      property="og:image"
      content="https://img1.daumcdn.net/thumb/R1280x0/?fname=https://t1.daumcdn.net/brunch/service/user/9j9p/image/h3EoSqNNLR9BLJ82qtMOYxpF8NA.png"
    />
  </head>
  <body>
    <!-- 내비게이션 바 -->
    <nav
      class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top"
      data-bs-spy="scroll"
      data-bs-target="#navbarNav"
      data-bs-offset="70"
    >
      <div class="container">
        <a
          class="navbar-brand d-flex align-items-center"
          href="https://thousandyehyang-archive.github.io/programmers-AIBE1/practice/day04/ex05/index.html"
        >
          <img
            src="https://i.namu.wiki/i/B9hIQukP-418N9W-5o6WddUuxmemYuBIZ65-xMHmRK4hDhipAtFQikphYYlBJ7lr3z0POdWs4n1azM-KOHe3qQ.svg"
            alt="로고"
            style="height: 30px; margin-right: 10px"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://thousandyehyang-archive.github.io/programmers-AIBE1/practice/day04/ex05/index.html"
                >선수 소개</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://thousandyehyang-archive.github.io/programmers-AIBE1/practice/day04/ex05/index.html"
                >Info</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://thousandyehyang-archive.github.io/programmers-AIBE1/practice/day05/ex01/index.html"
                >팀스토어</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://thousandyehyang-archive.github.io/programmers-AIBE1/practice/day05/ex02/index.html"
                >야구 타로</a
              >
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="seasonDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                시즌
              </a>
              <ul class="dropdown-menu" aria-labelledby="seasonDropdown">
                <li><a class="dropdown-item" href="#season2025">2025</a></li>
                <li><a class="dropdown-item" href="#season2024">2024</a></li>
                <li><a class="dropdown-item" href="#season2023">2023</a></li>
                <li><a class="dropdown-item" href="#season2022">2022</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- 헤더 -->
    <header></header>

    <br />
    <br />

    <h2 style="text-align: center">오늘 경기의 운명을 골라보세요!</h2>

    <br />
    <!-- 타로 카드 섹션 -->
    <div class="tarot-container">
      <div class="tarot-card" data-card="0">
        <img
          src="https://i.pinimg.com/736x/7f/77/1a/7f771af911f9ddaf0cc110c375e69753.jpg"
          alt="Card 1"
        />
      </div>
      <div class="tarot-card" data-card="1">
        <img
          src="https://i.pinimg.com/736x/7f/77/1a/7f771af911f9ddaf0cc110c375e69753.jpg"
          alt="Card 2"
        />
      </div>
      <div class="tarot-card" data-card="2">
        <img
          src="https://i.pinimg.com/736x/7f/77/1a/7f771af911f9ddaf0cc110c375e69753.jpg"
          alt="Card 3"
        />
      </div>
      <div class="tarot-card" data-card="3">
        <img
          src="https://i.pinimg.com/736x/7f/77/1a/7f771af911f9ddaf0cc110c375e69753.jpg"
          alt="Card 4"
        />
      </div>
      <div class="tarot-card" data-card="4">
        <img
          src="https://i.pinimg.com/736x/7f/77/1a/7f771af911f9ddaf0cc110c375e69753.jpg"
          alt="Card 5"
        />
      </div>
      <div class="tarot-card" data-card="5">
        <img
          src="https://i.pinimg.com/736x/7f/77/1a/7f771af911f9ddaf0cc110c375e69753.jpg"
          alt="Card 6"
        />
      </div>
    </div>

    <!-- 초기화 버튼 -->
    <div class="text-center">
      <button id="resetButton" class="btn btn-danger mt-3">다시 뽑기</button>
    </div>

    <!-- 모달 -->
    <div
      class="modal fade"
      id="tarotModal"
      tabindex="-1"
      aria-labelledby="tarotModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="tarotModalLabel">오늘 경기는...</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body text-center">
            <img
              id="tarotImage"
              src=""
              alt="타로 이미지"
              class="img-fluid mb-3"
            />
            <p id="tarotText"></p>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <!-- 타로 게임 -->
    <script>
      const tarotData = [
        {
          image: "https://www.spochoo.com/news/photo/202109/88178_168984.jpg",
          text: "퀄리티 스타트",
        },
        {
          image:
            "https://t1.daumcdn.net/news/202210/12/crazzzybaseball/20221012155211158pspp.gif",
          text: "9회초 2아웃 역전 쓰리런",
        },
        {
          image:
            "https://flexible.img.hani.co.kr/flexible/normal/970/647/imgdb/original/2023/1111/20231111500423.webp",
          text: "압도적인 점수차",
        },
        {
          image:
            "https://www.chosun.com/resizer/v2/QXUJO22KO6U3OEPG3HZPDUIVAQ.jpg?auth=b6ca8baa28ada384a997814365e825d0a71cc654c51802286a60e3ea7f17e5a7&width=616",
          text: "지는 것 보단 무승부가...나은가?",
        },
        {
          image:
            "https://dimg.donga.com/wps/NEWS/IMAGE/2024/09/08/130002739.1.jpg",
          text: "도루사만 하다 끝남",
        },
        {
          image:
            "https://cdnimage.dailian.co.kr/news/202311/news_1699482840_1292958_m_1.jpeg",
          text: "선발 강판 후 불펜의 호투로 이김",
        },
      ];

      // 모든 카드에 클릭 이벤트 추가
      document.querySelectorAll(".tarot-card").forEach((card) => {
        card.addEventListener("click", () => {
          // 클릭된 카드의 데이터 가져오기
          const cardIndex = card.dataset.card; // data-card 속성 사용
          const { image, text } = tarotData[cardIndex];

          // 모달 내용 업데이트
          document.getElementById("tarotImage").src = image;
          document.getElementById("tarotText").textContent = text;

          // 모달 열기
          const modal = new bootstrap.Modal(
            document.getElementById("tarotModal")
          );
          modal.show();
        });
      });

      // 초기화 버튼 기능에 3D 회전 애니메이션 추가
      document.getElementById("resetButton").addEventListener("click", () => {
        const tarotContainer = document.querySelector(".tarot-container");
        const cards = Array.from(tarotContainer.children);

        // 섞는 애니메이션 추가
        cards.forEach((card, index) => {
          card.classList.add("shuffle");

          // 애니메이션이 끝나면 다시 섞기
          card.addEventListener("animationend", () => {
            card.classList.remove("shuffle");

            if (index === cards.length - 1) {
              // 마지막 카드의 애니메이션이 끝나면 순서를 섞음
              const shuffledCards = cards
                .map((card) => ({ card, sort: Math.random() }))
                .sort((a, b) => a.sort - b.sort)
                .map(({ card }) => card);

              // 기존 카드를 제거하고 섞인 순서로 다시 추가
              tarotContainer.innerHTML = "";
              shuffledCards.forEach((card) => tarotContainer.appendChild(card));
            }
          });
        });
      });
    </script>

    <!-- 푸터 -->
    <footer class="py-3 footer">
      <div class="container text-center">
        <p>&copy; 2025 LG 트윈스 소개 페이지</p>
      </div>
    </footer>

    <!-- 타로 카드 움직임 효과 -->
    <script>
      document.querySelectorAll(".tarot-card").forEach((card) => {
        const shine = document.createElement("div");
        shine.className = "shine";
        card.appendChild(shine);

        card.addEventListener("mousemove", (e) => {
          const rect = card.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;

          const centerX = rect.width / 2;
          const centerY = rect.height / 2;

          const rotateX = ((y - centerY) / centerY) * -7;
          const rotateY = ((x - centerX) / centerX) * 7;

          card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;

          const angleRad = Math.atan2(y - centerY, x - centerX);
          const angleDeg = angleRad * (180 / Math.PI);

          shine.style.background = `
            linear-gradient(
                ${angleDeg + 90}deg,
                rgba(255,255,255,0) 0%,
                rgba(255,255,255,0.15) 30%,
                rgba(255,255,255,0) 60%
            )
        `;
          shine.style.opacity = "1";
        });

        card.addEventListener("mouseleave", () => {
          card.style.transform =
            "perspective(1000px) rotateX(0deg) rotateY(0deg)";
          shine.style.opacity = "0";
        });
      });
    </script>

    <!-- 스크롤 리빌 효과 -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const scrollElements = document.querySelectorAll(".scroll-reveal");

        const elementInView = (el, percentageScroll = 100) => {
          const elementTop = el.getBoundingClientRect().top;
          return (
            elementTop <=
            (window.innerHeight || document.documentElement.clientHeight) *
              (percentageScroll / 100)
          );
        };

        const displayScrollElement = (element) => {
          element.classList.add("visible");
        };

        const hideScrollElement = (element) => {
          element.classList.remove("visible");
        };

        const handleScrollAnimation = () => {
          scrollElements.forEach((el) => {
            if (elementInView(el, 100)) {
              displayScrollElement(el);
            } else {
              hideScrollElement(el);
            }
          });
        };

        window.addEventListener("scroll", () => {
          handleScrollAnimation();
        });
      });
    </script>
  </body>
</html>
